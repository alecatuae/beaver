{"version":3,"sources":["../src/prisma-field-builder.ts"],"names":["PrismaObjectFieldBuilder","RootBuilder","RootFieldBuilder","relation","name","allArgs","description","options","relationField","getRelation","model","builder","ref","type","getRefFromModel","query","resolve","extensions","rest","relationSelect","args","context","nestedQuery","select","field","isList","getFieldDescription","pothosPrismaSelect","pothosPrismaLoaded","value","undefined","pothosPrismaFallback","q","parent","info","relationCount","where","countSelect","_count","nullable","variant","isNull","selfSelect","parentIsNull","isThenable","then","resolved","expose","typeConfig","configStore","getTypeConfig","typename","usingSelect","exposeField","pothosPrismaVariant","createExpose","constructor","fieldMap","graphqlKind","prismaFieldMap","exposeBoolean","exposeFloat","exposeInt","exposeID","exposeString","exposeBooleanList","exposeFloatList","exposeIntList","exposeIDList","exposeStringList","withAuth","relatedConnection","maxSize","prisma","maxConnectionSize","defaultSize","defaultConnectionSize","cursor","cursorValue","totalCount","connectionOptions","edgeOptions","typeName","formatCursor","getCursorFormatter","parseCursor","getCursorParser","getQuery","ctx","connectionQuery","prismaCursorConnectionQuery","take","skip","fieldQuery","cursorSelection","ModelLoader","getCursorSelection","getSelection","selection","nested","getType","paths","hasTotalCount","totalCountOnly","selectionSet","selections","length","filterConnectionTotalCount","fieldRef","connection","returnType","getNamedType","fields","isObjectType","isInterfaceType","getFields","fieldNodes","every","s","kind","Kind","FIELD","pothosPrismaTotalCount","Promise","result","wrapConnectionResult","ObjectRef","t","int","addScopes","scopes","originalCreateField","createField","call","authScopes"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"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"}