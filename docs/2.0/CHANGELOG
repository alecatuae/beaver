# Beaver v2.0 Changelog

All notable changes to the Beaver project version 2.0 will be documented in this file.

## [Unreleased]

### Added
- New GraphQL schema with support for Environments, ComponentInstances, Teams, ADR participants, roadmap items, and glossary terms
- New enumeration types: ImpactLevel, GlossaryStatus, and LogLevel
- Migration scripts for automatic data migration from v1.x to v2.0:
  - Database schema migration script for MariaDB
  - Data migration script for creating environments, teams and instances
  - Neo4j synchronization script to keep graph database in sync
  - References update script to fix and enhance entity relationships
- Support for environments (development, homologation, production)
- Component instances per environment
- Team-based organization
- ADR participants management
- Glossary terms management
- API documentation in `docs/versions/2.0/api_docs_v2.0_pt_br.md`
- Neo4j migration scripts:
  - `scripts/neo4j/migrate-v2.sh` - Updates Neo4j schema with new constraints, relationships, and migrates component instances
  - `scripts/neo4j/sync-neo4j.sh` - Synchronizes MariaDB data with Neo4j
  - `scripts/neo4j/backup-restore.sh` - Manages Neo4j backups and restoration
  - `scripts/neo4j/setup-visualization.sh` - Configures Neo4j Browser with custom colors and styles
- Neo4j v2.0 documentation in `docs/versions/2.0/neo4j_migration_guide_v2.0_pt_br.md`
- Support for new Neo4j relationships: INSTANTIATES, DEPLOYED_IN, MANAGED_BY, PARTICIPATES_IN, AFFECTS_INSTANCE, INSTANCE_CONNECTS_TO
- Tests for ADR participant resolvers
- Tests for Environment resolvers
- Implemented standardized error message system with ERR-XXXX-YY-ZZ format
- Created ErrorMessage component with global, form, and inline variants
- Added error handling hook for consistent error management
- Created error context provider for application-wide error handling

### Changed
- Permissions system restructured to support teams
- GraphQL API endpoint under `/api/graphql/v2`
- Enhanced component filtering by environment, team, and category
- Improved application logging with structured JSON format
- User interface redesign with support for multi-environment visualization
- Better ADR integration with component instances
- GraphQL schema updated from enums to reference tables
- Neo4j integration layer completely rewritten to support new entity types and relationships
- Enhanced middleware in Prisma for automatic synchronization with Neo4j

### Fixed
- Issues with ADR versioning
- Relationship synchronization between MariaDB and Neo4j
- Client-side caching strategy
- GraphQL resolver performance issues
- Neo4j integration error handling and logging
- Neo4j constraint compatibility with version 5+
- Fixed schema builder configuration by adding notStrict option
- Fixed the GraphQL schema types in the backend

### Deprecated
- The v1 API endpoints will be deprecated in future versions
- Support for the legacy component model will be removed in v3.0

## [Migration Notes]
Follow the migration guide in `docs/versions/2.0/migration_guide_v2.0_pt_br.md` to upgrade from v1.x to v2.0.

For Neo4j specific migration instructions, refer to `docs/versions/2.0/neo4j_migration_guide_v2.0_pt_br.md`.

## [2.0.0] - YYYY-MM-DD (Not released yet)

Initial release of Beaver v2.0 